{
  "coverage_needs": [
    {
      "need_category": "layer_1_general_conditions",
      "taxonomy_tags": [
        "age_eligibility"
      ],
      "reasoning": "Travelers are of different age groups (8 to 45) so age eligibility should be checked.",
      "priority": "LOW",
      "itinerary_evidence": "Me (45 years old), Wife (42 years old), Two kids (ages 8 and 12)"
    },
    {
      "need_category": "layer_1_general_conditions",
      "taxonomy_tags": [
        "pre_existing_conditions"
      ],
      "reasoning": "Wife has a history of altitude sickness, which is a pre-existing condition that may need to be covered.",
      "priority": "MEDIUM",
      "itinerary_evidence": "My wife has a history of altitude sickness"
    },
    {
      "need_category": "layer_1_general_conditions",
      "taxonomy_tags": [
        "high_altitude_exclusion"
      ],
      "reasoning": "The itinerary includes skiing on Matterhorn glacier (3,800m) and a day trip to Jungfraujoch (3,454m), both high altitudes. Some policies exclude or limit coverage for activities at high altitudes.",
      "priority": "MEDIUM",
      "itinerary_evidence": "Planning to ski on Matterhorn glacier (altitude 3,800m), Day trip to Jungfraujoch (Top of Europe - 3,454m altitude)"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "overseas_medical_expenses"
      ],
      "reasoning": "Medical expenses incurred due to altitude sickness or any other unforeseen medical issues during the trip to Switzerland.",
      "priority": "HIGH",
      "itinerary_evidence": "Trip to Swiss Alps"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "trip_cancellation"
      ],
      "reasoning": "The trip involves non-refundable business class tickets and a 5-star hotel booking, totaling $20,000. Trip cancellation coverage is needed to protect against financial loss if the trip is cancelled for a covered reason.",
      "priority": "HIGH",
      "itinerary_evidence": "Non-refundable business class tickets ($12,000 total), Booked 5-star hotel in Zermatt ($8,000 for entire stay)"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "trip_curtailment"
      ],
      "reasoning": "If the trip needs to be cut short due to unforeseen circumstances, trip curtailment coverage can help recoup some of the non-refundable expenses.",
      "priority": "MEDIUM",
      "itinerary_evidence": "Non-refundable business class tickets ($12,000 total), Booked 5-star hotel in Zermatt ($8,000 for entire stay)"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "loss_damage_personal_belongings"
      ],
      "reasoning": "The traveler is bringing expensive camera equipment ($5,000 worth). Coverage is needed for loss or damage to these belongings during the trip.",
      "priority": "MEDIUM",
      "itinerary_evidence": "Bringing expensive camera equipment ($5,000 worth)"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "emergency_medical_evacuation_repatriation"
      ],
      "reasoning": "In case of a serious accident while skiing or any other medical emergency, emergency medical evacuation or repatriation coverage is needed.",
      "priority": "HIGH",
      "itinerary_evidence": "Skiing in Zermatt"
    },
    {
      "need_category": "layer_1_general_conditions",
      "taxonomy_tags": [
        "dangerous_activities_exclusion"
      ],
      "reasoning": "Skiing, especially on a glacier, can be considered a dangerous activity. The policy should be checked for exclusions related to such activities.",
      "priority": "MEDIUM",
      "itinerary_evidence": "Planning to ski on Matterhorn glacier"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "accidental_death_permanent_disablement"
      ],
      "reasoning": "Skiing and travel at high altitudes carry inherent risks. Accidental death and permanent disablement coverage would provide financial protection in the event of a serious accident.",
      "priority": "LOW",
      "itinerary_evidence": "Skiing in Zermatt, Planning to ski on Matterhorn glacier"
    },
    {
      "need_category": "layer_1_general_conditions",
      "taxonomy_tags": [
        "child_accompaniment_requirement"
      ],
      "reasoning": "The policy should cover requirements for children traveling with adults.",
      "priority": "LOW",
      "itinerary_evidence": "Two kids (ages 8 and 12)"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "24hours_emergency_medical_assistance"
      ],
      "reasoning": "Access to 24-hour emergency medical assistance is crucial in case of any unforeseen medical events, especially in a foreign country.",
      "priority": "HIGH",
      "itinerary_evidence": "Trip to Swiss Alps"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "24hours_travel_assistance"
      ],
      "reasoning": "Access to 24-hour travel assistance can help with issues like lost passports, travel delays, or other travel-related emergencies.",
      "priority": "MEDIUM",
      "itinerary_evidence": "Trip to Swiss Alps"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "delayed_baggage"
      ],
      "reasoning": "Baggage can be delayed or lost during international flights. Coverage for delayed baggage can help cover the cost of essential items.",
      "priority": "LOW",
      "itinerary_evidence": "Flight from Singapore to Zurich"
    },
    {
      "need_category": "layer_2_benefits",
      "taxonomy_tags": [
        "loss_of_travel_documents"
      ],
      "reasoning": "Loss of travel documents like passports can be a major inconvenience. Coverage can help with the cost of replacing these documents.",
      "priority": "LOW",
      "itinerary_evidence": "Trip to Swiss Alps"
    },
    {
      "need_category": "auto_detected",
      "taxonomy_tags": [
        "adventurous_activities"
      ],
      "reasoning": "Detected from keyword: 'ski' in itinerary",
      "priority": "MEDIUM",
      "itinerary_evidence": "Keyword match: ski",
      "source": "keyword_detection"
    },
    {
      "need_category": "auto_detected",
      "taxonomy_tags": [
        "child_guard"
      ],
      "reasoning": "Detected from keyword: 'kids' in itinerary",
      "priority": "MEDIUM",
      "itinerary_evidence": "Keyword match: kids",
      "source": "keyword_detection"
    },
    {
      "need_category": "auto_detected",
      "taxonomy_tags": [
        "personal_money"
      ],
      "reasoning": "Detected from keyword: 'camera' in itinerary",
      "priority": "MEDIUM",
      "itinerary_evidence": "Keyword match: camera",
      "source": "keyword_detection"
    },
    {
      "need_category": "auto_detected",
      "taxonomy_tags": [
        "travel_delay"
      ],
      "reasoning": "Detected from keyword: 'expensive' in itinerary",
      "priority": "MEDIUM",
      "itinerary_evidence": "Keyword match: expensive",
      "source": "keyword_detection"
    }
  ],
  "trip_summary": {
    "destinations": [
      "Zurich",
      "Zermatt",
      "Jungfraujoch",
      "Swiss Alps"
    ],
    "duration_days": 14,
    "activities": [
      "Skiing",
      "Scenic train ride",
      "Ice palace visit",
      "Glacier skiing"
    ],
    "risk_factors": [
      "High altitude",
      "Skiing",
      "Non-refundable expenses",
      "Pre-existing condition (altitude sickness)"
    ],
    "traveler_profile": {
      "adults": 2,
      "children": 2,
      "age_range": "8-45"
    }
  },
  "_metadata": {
    "total_tags": 15,
    "valid_tags": 15,
    "invalid_tags": 0,
    "model_used": "models/gemini-2.0-flash-exp",
    "keyword_boost_enabled": true,
    "keyword_detected_risks": [
      "ski",
      "kids",
      "family",
      "camera",
      "expensive",
      "non-refundable"
    ],
    "total_needs": 19
  }
}